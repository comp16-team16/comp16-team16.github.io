<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>8. Implementing UI Components Part 2</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="9eef0b81-ceaf-4f99-a3ef-853f22e7275c" class="page sans"><header><h1 class="page-title">8. Implementing UI Components Part 2</h1></header><div class="page-body"><p id="13f3b6cf-019a-44b6-b802-69975db3fe6d" class="">
</p><p id="a6e6768c-7068-407c-8b69-aa819cbca99e" class="">In this post, we continue to implement UI components for the frontend app.</p><p id="f9ade2c5-2d50-4ea9-9ac4-f76ad34850d3" class="">
</p><hr id="b3cf1a3d-bdfe-4c0c-8419-685ba44daf5d"/><h1 id="98ba8ab8-6db6-4102-82d3-0498f9bf3487" class=""><strong>Theme Component</strong></h1><p id="b595bd9b-9c3c-449c-8ada-34abf794e98d" class="">This component is used to provide the app&#x27;s themes. The theme could have been implemented via JavaScript, but we choose to use CSS3 variables instead, for the sake of simplicity. Which theme styles are activated depends on the state of <code>theme</code> in <a href="https://codeberg.org/alice/experiment/src/branch/master/app/components/store/PreferencesStore.md">PreferencesStore</a>.</p><h1 id="2c9a0f0d-ae16-442c-b0dc-cb5994b9269f" class=""><strong>Imports</strong></h1><pre id="f22a7397-63d0-4f8a-ab66-806b8bb039df" class="code code-wrap"><code>import { createComponent, fiber } from &#x27;../../framework/framework.js&#x27;
import PreferencesStore from &#x27;../../store/PreferencesStore.js&#x27;
</code></pre><h2 id="89ac17a9-20bc-4dfb-b5de-fddc828bef3d" class=""><strong>Styles</strong></h2><p id="2a58ba34-2835-4e2b-9b8d-007e2e78efc7" class="">Many of the values used here come from Apple&#x27;s IOS design guides.</p><pre id="ec32a6e5-e0d7-42fb-b988-9ab33a940057" class="code code-wrap"><code>const App = () =&gt; `
        :host {
                --red: rgb(255, 59, 48);
                --orange: rgb(255, 149, 0);
                --yellow: rgb(255, 204, 0);
                --green: rgb(52, 199, 89);
                --mint: rgb(0, 199, 190);
                --teal: rgb(48, 179, 199);
                --cyan: rgb(50, 173, 230);
                --blue: rgb(10, 132, 255);
                --indigo: rgb(94, 92, 230);
                --purple: rgb(175, 82, 222);
                --pink: rgb(255, 55, 95);
                --brown: rgb(172, 142, 104);
                --black: rgb(0, 0, 0);
                --white: rgb(255, 255, 255);
                --gray-1: rgb(142, 142, 147);
                --gray-2: rgb(99, 99, 102);
                --gray-3: rgb(72, 72, 74);
                --gray-4: rgb(58, 58, 60);
                --gray-5: rgb(44, 44, 46);
                --gray-6: rgb(28, 28, 30);
                --gray-7: rgb(142, 142, 147);
                --gray-8: rgb(174, 174, 178);
                --gray-9: rgb(199, 199, 204);
                --gray-10: rgb(209, 209, 214);
                --gray-11: rgb(229, 229, 234);
                --gray-12: rgb(242, 242, 247);

                --heading-1: 2.53rem;
                --heading-2: 2.08rem;
                --heading-3: 1.64rem;
                --heading-4: 1.49rem;
                --heading-5: 1.27rem;
                --heading-6: 1.12rem;
                --heading-7: 0.89rem;

                --font-size-base: var(--heading-6);
                --font-family: &#x27;Inter&#x27;, system-ui, sans-serif;
                --font-line-height: 1.4;

                --padding-screen: 1.7rem;
                --padding-base: 1rem;
        }


        /* Light theme. */

        :host-context(#light) {
                --primary: var(--blue);
                --background: var(--gray-12);
                --text: var(--gray-6);
                --card: var(--white);
        }


        /* Dark theme. */

        :host-context(#dark) {
                --primary: var(--white);
                --secondary: var(--blue);
                --background: var(--black);
                --text: var(--gray-7);
                --card: #0e0e16;
                --button: rgb(14 99 255);
        }
`</code></pre><p id="7786b612-c8bf-4418-aae2-0f7a9429d857" class="">
</p><hr id="4d7f509c-28a1-4761-bfe7-a9af59280496"/><p id="642ed52b-6e1b-45d8-9d8c-dcae1e57cd86" class="">
</p><h1 id="5e569c2c-e8c0-46f7-b954-856e52247800" class=""><strong>Navigation Card Component</strong></h1><p id="b80ef8e4-2ae9-4406-9c85-96c8da591403" class="">This component uses <code>Card</code>, <code>Heading</code> and <code>Button</code> to implement a card widget that allows users to navigate to another screen. This widget aims to make it clear <em>where</em> the user will be taken and for what purpose. The button control should be meaningfully named.</p><h2 id="9dd332aa-af2b-45f8-9fa7-bddbf820f8ce" class=""><strong>Imports</strong></h2><pre id="396469af-543c-47ef-8cf2-932d2439096d" class="code code-wrap"><code>import { createComponent, fragment } from &#x27;../../framework/framework.js&#x27;
import Card from &#x27;./Card.js&#x27;
import Heading from &#x27;./Heading.js&#x27;
import Button from &#x27;./Button.js&#x27;
import Text from &#x27;./Text.js&#x27;
import Image from &#x27;./Image.js&#x27;
</code></pre><h2 id="43ac9515-5cfb-4be8-a73d-b87443adb8d2" class=""><strong>Setup</strong></h2><pre id="01545b75-2be2-4189-8301-4c21a7635c06" class="code code-wrap"><code>const App = {}
</code></pre><h2 id="073fd56d-05e5-458a-88ed-c6ad7baec2e3" class=""><strong>Attributes</strong></h2><p id="89f81892-7fb0-473f-8a2a-a24ac406c048" class="">This component takes several attributes limited to:</p><ul id="5fc350f5-9ee0-4c20-9e23-b46c807cdc17" class="bulleted-list"><li style="list-style-type:disc"><code>router</code> - a <code>Router</code> object to use for instigating navigation.</li></ul><ul id="3907f7af-2cac-4266-8d64-21eb64b9673f" class="bulleted-list"><li style="list-style-type:disc"><code>route</code> - the route to navigate to when the button is clicked.</li></ul><ul id="f8979f1e-facc-48d2-b201-bb1b4e1ede5d" class="bulleted-list"><li style="list-style-type:disc"><code>heading</code> - the heading text to show.</li></ul><ul id="b5675fa1-a9f0-49b2-87bc-895259ecb323" class="bulleted-list"><li style="list-style-type:disc"><code>text</code> - the summary text to show.</li></ul><ul id="27cd875c-6b79-4a8b-9bf7-01d9728e2bd0" class="bulleted-list"><li style="list-style-type:disc"><code>button</code> - the button text to show (default &#x27;Start&#x27;).</li></ul><ul id="d2488f70-27d1-412e-828d-38ba341c0019" class="bulleted-list"><li style="list-style-type:disc"><code>image</code> - an image to show.</li></ul><h2 id="980f51c7-ce84-4ce1-8f99-913a923ba386" class=""><strong>Methods</strong></h2><p id="a777aa8b-e73c-4dad-91ff-5565242b7237" class="">This method is used to respond to when the button is clicked. It simply takes the given router object and instigates a stacked navigation to the given route.</p><pre id="34bff1a2-fd0a-48ab-b8a1-d9cc093f6023" class="code code-wrap"><code>App.methods = {}</code></pre><pre id="ac0ca4a7-88e5-49ae-95cb-d4ae310db35d" class="code code-wrap"><code>App.methods.handleClick = function() {

        this.router.push(this.route, this.routeAttributes)
}
</code></pre><h2 id="e185d66d-0d6d-4f3b-b139-474703ff3bed" class=""><strong>Template</strong></h2><pre id="b2b999b6-52a1-4445-8a3a-07e5c26f109d" class="code code-wrap"><code>App.template = function() {
        return Card(
                this.image ? Image({
                        url: this.image,
                        style: &#x27;margin-bottom:20px&#x27;
                }) : &#x27;&#x27;,
                Heading({
                        size: 4,
                        child: this.heading
                }),
                Text({
                        inline: true,
                        child: this.text
                }),
                Button({
                        small: true,
                        child: this.button || &#x27;Start&#x27;,
                        $onclick: this.handleClick.bind(this)
                })
        )
}
</code></pre><p id="77f37eb9-b440-4a32-8a71-094d79daceaa" class="">
</p><hr id="676261ec-20a3-4291-9ae2-7ddd17403f10"/><p id="47ff2550-ea1b-4cb8-bc68-af471271aba5" class="">
</p><h1 id="4de69d9b-be2f-4a0a-b230-5a737721fa98" class=""><strong>Interview Component</strong></h1><p id="f766b9dc-dc05-4975-8bd2-1be7ea29090b" class="">This component is responsible for conducting medical interviews with users. It uses <code>AssessmentStore</code> to send the users&#x27;s symptoms to the backend model, and feed back results. The main user experience requirement for this component is fluidity. That is, we aim to make the interview process feel smooth and continuous rather than consisting of harsh cuts. This is achieved via CSS animations and by restricting the number of widgets on screen at any given time. This should allow the user to more easily focus on the content/questions being presented to them.</p><h2 id="88a033ca-a098-4420-bae1-3bcffd4b8b37" class=""><strong>Imports</strong></h2><pre id="e5ade8e1-4438-4ab6-9c18-fae09329b8a6" class="code code-wrap"><code>import { createComponent, fragment } from &#x27;../../framework/framework.js&#x27;
import { argmax, shuffle } from &#x27;../assets/modules/math.js&#x27;
import AssessmentStore from &#x27;../store/AssessmentStore.js&#x27;
import InputSelect from &#x27;./system/InputSelect.js&#x27;
import Heading from &#x27;./system/Heading.js&#x27;
</code></pre><h2 id="1d5ee1c0-410e-4040-8849-bb051f66515b" class=""><strong>Setup</strong></h2><pre id="ecdf3867-0520-4763-9a9b-30ff8853bdfc" class="code code-wrap"><code>const App = {
        methods: {}
}
</code></pre><p id="740120a0-9d20-4e4e-9123-b43d97a0a5b2" class="">Initialise the model.</p><pre id="73413b65-63ff-414c-aa2d-d6c64f17cb6d" class="code code-wrap"><code>AssessmentStore.dispatch(&#x27;initMedicalConditionDistribution&#x27;)
setTimeout(() =&gt; AssessmentStore.dispatch(&#x27;updateMedicalConditionDistribution&#x27;, {&#x27;sneezing&#x27;: true}), 1500)
</code></pre><h2 id="7ef65e18-a6f0-4e1c-8c01-d252ea4d2379" class=""></h2><h2 id="7fdc429d-6f7b-4e73-87cf-f9b3e9791631" class=""><strong>Methods</strong></h2><pre id="546a5506-7c9e-4de2-8864-3f1c05801ba5" class="code code-wrap"><code>App.methods = {}
</code></pre><p id="cc918e55-cd43-4134-b1d9-cc14f286ee09" class="">This method renders the symptoms of the modal medical condition as an options input.</p><pre id="f8d6bd21-1d89-4a19-a9b6-d7bb8f574142" class="code code-wrap"><code>App.methods.renderModalConditionSymptoms = function() {

        const [ condition, symptoms ] = AssessmentStore.state.modalMedicalCondition
        const $options = shuffle(symptoms).slice(0, 3)

        return InputSelect({
                $options,
                $fiber: this.fiber
        })
}
</code></pre><p id="209c5a02-8cbf-4e9a-a789-4df107f938a0" class="">This method updates the posterior distribution based on the user&#x27;s response.</p><pre id="491dddbc-7151-4ab1-b87d-cd7243e66960" class="code code-wrap"><code>App.methods.updatePosterior = function(answer) {

        AssessmentStore.dispatch(&#x27;updateMedicalConditionDistribution&#x27;, answer())
}
</code></pre><h2 id="806212bf-2d2a-4e32-a9bc-15fee9f3b5c2" class=""><strong>Template</strong></h2><pre id="d3c79772-2c4d-4b44-a498-75932a0ccf41" class="code code-wrap"><code>App.template = function() {
        this.update.call = this.updatePosterior.bind(this)

        return fragment(
                Heading({
                        size: 3,
                        bold: true,
                        child: &#x27;Are you experiencing any of the following?&#x27;
                }),
                this.renderModalConditionSymptoms()
        )
}</code></pre></div></article></body></html>